---
title: "从微博抽奖到数据分析"
date: 2018-11-14T00:19:14+08:00
---

感谢王思聪微博抽奖这个热点事件，我们有一个非常好的学习数据分析的机会😄😄。对不了解的读者，我们先回顾一下事件内容：

IG 战队在 LOL 比赛中夺冠，某王姓土豪发布了微博

![wsc_weibo]()

简单来说就是从转发者中抽奖，我们可以看到大概有 2200万 人转发了该微博，抽奖结束，一切正常，唯一奇怪的是中奖者有112名女生，仅有1名男生。

这个悬殊的比例引起了很大的争议：
- 有的人说王思聪在选后宫，只抽女生。
- 有的人从直觉出发说微博抽奖明显有猫腻，在怎么男生用户也不可能那么少。属于偷偷筛选抽奖人的抽奖。暗箱操作，虚伪抽奖，欺诈行为。
- 有的人说抽到的都不是 ig 的粉丝，这不公平。
- 有的人按照抽奖的历史数据发现微博抽奖只抽取对流量贡献有价值的用户，而且得出了少女 > 小孩 > 男人的鄙视链。从而引出微博抽奖扭曲了价值观，之类的言论。
- 有的从新浪的角度出发，表明这只是为了清除僵尸粉的措施，不过顺便也把大部分男粉丝清除掉了。

作为一名旁观者，如果没有统计与概率论背景，容易被数字所困扰，不容易明白他们在说什么，更不用说判断对错了。从我负责任地来看，极大部分知乎，微博上的回答都很片面而且带有情绪，统计学是一个工具，而且是可以根据使用者的主观意识去操控的工具。我个人并不喜欢微博，但是我不会带着个人情绪去分析，这既容易落入自己都不知道的陷阱。这篇文章我从我的角度来分析下这个事件，要知道概率论里面并没有绝对的正确，只有相对的正确。不过，我希望读者能阅读完之后能有一些初步地理解，然后能够告诉自己的孩子，学数学有什么用。更好的消息是，这篇文章不需要数学背景知识。
- 我属于最后一种，我希望能通俗地解释清楚背后的数据，让读者得出自己的结论，我们的教育使我们缺乏独立思考的人。

我们这篇文章只涉及极少的数学知识，可以说，只要在双十一懂得凑单，都能看懂。

#### 小型微博
我们坐了时光机器，回到微博刚开始发展的时候，那时候微博只有 100名 用户，而且刚好 50名 男生 50名 女生，

![男女]()

这时候微博举办抽奖活动，从所有用户中里面随机抽取 100名 中奖者，我们能肯定抽奖结果男女比例一定是 1 比 1，因为我们把所有用户都抽到了，皆大欢喜。

慢慢加入越来越多人加入微博了，当微博第二次抽奖的时候已经有 1000名 用户，此时的男女用户比例不变，还是 1 比 1。
这时候从里面随机抽取 100名 中奖者，结果的男女比例是多少呢？我们不知道，有可能还是 1 比 1，有可能 60名女生，40名男生。也有可能全是女生。从经验来判断，男女用户数量相近会比全是男生出现的概率要大。如果你不确定的话，想象一个场景。

一个箱子里装了 50个 Dior ，50个 YSL的外形一致的唇膏。充分混合后，请你从里面连续抽出 50个 Dior 的唇膏。

额，这太难了吧。你说。好吧，那我允许你错 5次，抽 50个 唇膏中间有 45个 Dior的唇膏就好。这虽然还是很难，但是要比刚开始要简单，因为我允许你犯错 5次。这种允许犯错和我们刚刚说到的情况一样，如果要抽到 100名 女生的话，必须非常小心翼翼地避开男生。这种避开使这种情况出现的概率要更低，具体多低呢？下面这个图片显示了女生出现数量的概率大小，越高代表概率越大。

![normal_dis]()

我们可以看到中间的抽到 50名 女生的高度最高，那么是不是抽到 50名 女生的概率最高呢？是，也不是。在国内的考试如果这样回答可能会得到满分，但是这并不代表是正确的。如果你手边有硬币的话，可以试试抛十次，你会发现更有可能出现的是 6次正面，4次反面的情况，而不是刚刚好 5次正面，5次反面的情况。实验与理论不符合，该怎么解释呢？其实上面的图表没有列出所有的可能性，我重新绘制了一张新的图表，如下：

![normal_dis2]()

我们可以看到，新的图表中，最有可能的情况是男生比女生多一名，或者女生比男生多一名，在第一张图片中等于把最高点两边的高度相加。不过即使这样，大幅度的偏移出现的概率依然非常低，只抽到一名男生 + 只抽到一名女生。


从微博 CEO 的微博中我们可以得知转发参与的男女比例是 1 比 1.2

![weibo_ceo]()

这条微博参加男女比例相近，那么出现如此悬殊的比例，正常吗？有的人说虽然这是小概率事件，但是也有可能发生。首先我们理解下什么是小概率事件。生活中最容易接触的，彩票，假设中彩票头奖的概率是一千万分之一，那么从个人来说，如果只买一张的话就中头奖，那么确实是一个小概率事件。不过如果我们从整体来说，假设一共有 2000万 人买彩票，每人买一注，当然可能会有重复的。那么中彩票这件事就不是一个小概率事件了。可以说每开一次奖，都会有人中头奖。回到微博这里，这个概率是多少呢。大概是吧0.0001中间加多 30个 0（可以通过此代码验证）。形象地说，假设每秒都进行这样抽奖一亿次，对，一亿次，那么一亿年也不会抽到这样的结果。虽然小概率事件可能发生，但是这样的极少概率事件的发生非常不现实。到这里，我们是否就能确定这个抽奖有问题？有猫腻？有人控制抽奖结果或者有猫腻呢？

我们再看看这条微博，为了排除僵尸粉，虽然男生女生参加的比例相近，但是每个人赋予的权重不一样，所以才会有有那么悬殊的结果。权重是什么意思？从彩票的例子来说，微博按照给每个抽奖人发不同数量的彩票，自然，彩票多的人中奖的概率就高。那么这个权重怎么计算？微博并没有说，我们这里假设微博在抽奖中给每位转发的用户发放如下数量的彩票

    彩票数量 = 近30天发布原创微博数量 * 10 + 微博被评论量 * 5 + 微博被转发量 * 2

在这个情况下，如果你在转发后有持续发微博的话，那么中奖的概率也会提高。微博指出，男生一般都是浏览微博，比较少发与比较少被评论，和僵尸粉的行为差不多。而且微博的技术薄弱，无法区分两者，要降低抽到僵尸粉概率的话就会把抽到行为类似的普通男生中奖的概率也降低。我们先不讨论这样合不合理，这是一个两难的选择，允许僵尸粉中奖与允许中奖者偏向某一类特定的人群，微博选择了后者。

解答了这个问题之后，我们看看，作为一名普通女生是一名普通男生中奖概率的多少倍。这是一个有趣的问题，从结果来看，是 131 倍，但是这只是一次抽奖，不能真正地代表背后的比例。女生中奖概率是120倍，125倍都有可能得到最终的这个结构，在统计学中，我们常常关注最有可能发生的事情，舍弃不太可能发生的事情。回到刚刚这张图片，我们可以认为，男女比例发生在中间的话，才正常。如果发生在两边，那么就代表有问题。



我们只需要计算刚刚好达到边界的比例，感谢 wq 老师，代码在此

也就是说只有当女生中奖概率是男生的40倍的情况下，我们才不会对这个结果感到差异，总的来说，虽然看起来男女参加比例是1:1.2，实际上，男女的彩票比例确实1：50，最后我们得到了一个结论，如果你是女生，那么你中奖的概率就是男生的 40倍。这个抽奖公平吗？看不同人的理解，lg的粉丝可能觉得起码要喜欢lg才行，那么怎么才算喜欢呢？发过微博算吗？发过很多个微博呢？去过现场？握过手？这没有一个标准。怎样才是真正的公平。

因为微博为了排除一些僵尸粉，一些只转发的号就只发一张彩票或者根本不发，屏蔽僵尸粉这个很有必要，不过很明显新浪做的不够，而活跃度高的账号则发放多张彩票。我们假设微博平台的用户是均匀分布的，也就是说微博平台并没有排除一部分人参与，僵尸粉男女比例也相近。那么我们从微博的角度来看，一名普通男生的权重是一名普通女生的多少，才能得到这个悬殊的比例呢？按照我们上一个知识点，抽奖出现偏差是最常见的情况，那么偏差到多少才是可接受的呢？这是一个很主观的问题，也是科学界持续争论的问题，我们可以这样认为，两边的情况是最不可能发生的，如果发生了，我们认为不科学，等等，什么意思，为什么？是的，两边的情况是可能出现，但是却不太可能出现。我们把不太可能出现的情况排除了我们把两边的情况排除了，也就是说当结果出现在两边区域的话，我们认定这个抽奖95%有猫腻。我们可以明显看到偏离得很远，所以即使是小概率事件，我们认为也出现问题了。

既然我们知道权重不同的影响，那么我们能不能这样想。


我最近作为老师参加广外 coding girls club 的活动，我们用一天的时间免费教授学生用 Python 做数据分析，这是一个非常有趣的体验，有趣得能放上 Airbnb 做付费体验了，学生来自翻译专业，工商管理，大部分以后并不会成为程序员，那么为什么要去学习数据分析，艾倫伯格在他的书《数学教你不犯错》中给了一个好好的回答：

“会数学就像戴上了X光眼镜，能从混乱无序的世界表象里，看透其后隐藏的结构。数学是一门不会把事情搞错的学问，它的技术与习惯经历过许多世纪的辛勤努力与论辩。一旦手中有数学当工具，你可以更深刻，更稳健，更有意义地了解世界。”

如果不从数据出发，仅仅凭着自己的主观去推断，得到自己脑中的结果，完全是自欺欺人。如果阅读完这篇文章，你能得到自己的想法，能够独立地思考。那么恭喜你。
